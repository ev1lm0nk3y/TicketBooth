%p
  %b Status:
  %span{ class: text_class_for_status(@ticket_request) }
    = text_for_status @ticket_request

%p
  %b Name:
  = @ticket_request.user.name

%p
  %b Email:
  = mail_to @ticket_request.user.email

%p
  %b Mailing Address:
  %address
    = simple_format @ticket_request.address

%p
  %b Adult Tickets:
  = @ticket_request.adults

%p
  %b Child Tickets:
  = @ticket_request.kids

%p
  %b Cabins:
  = @ticket_request.cabins

- if current_user.site_admin?
  %p
    %b Ticket Price:
    %span{ class: ('label label-info' if @ticket_request.special_price) }
      = number_to_currency(@ticket_request.price, precision: 0)

- if @ticket_request.needs_assistance
  %p.text-warning
    %b Financial assistance or custom payment plan requested

- if @ticket_request.notes.present?
  %p
    %b Notes:
    = @ticket_request.notes

- if current_user.site_admin?
  = link_to event_ticket_requests_path(@event), class: 'btn' do
    %i.icon-arrow-left
    All Requests

  = link_to edit_event_ticket_request_path(@event, @ticket_request), class: 'btn' do
    Edit
    %i.icon-edit

  - if @ticket_request.pending?
    = link_to approve_event_ticket_request_path(@event, @ticket_request),
      method: :post,
      class: 'btn btn-primary' do
      Approve
      %i.icon-ok
    = link_to decline_event_ticket_request_path(@event, @ticket_request),
      method: :post,
      class: 'btn btn-danger',
      confirm: "Are you sure you want to decline #{@ticket_request.user.name}'s request?" do
      Decline
      %i.icon-remove
